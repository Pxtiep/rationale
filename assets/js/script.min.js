var map={};if(onkeydown=onkeyup=function(t){map[t.keyCode]="keydown"==t.type},document.body.addEventListener("keyup",function(t){map[16]&&map[71]&&document.getElementsByTagName("HTML")[0].classList.toggle("gridShown"),map={}}),window.innerWidth>559){var posts=document.querySelectorAll(".feed-posts");posts.length&&posts.forEach(function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0})})}!function(){!function(t,e,n){n=n||window;var i=!1,a=function(){i||(i=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(e)),i=!1}))};n.addEventListener(t,a)}("resize","optimizedResize")}(),window.addEventListener("optimizedResize",function(){!posts&&window.innerWidth>559?(window.posts=document.querySelectorAll(".feed-posts"),posts.length&&posts.forEach(function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0})})):posts&&window.innerWidth<559&&posts.length&&(posts.forEach(function(t){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0}).destroy()}),window.posts=null)}),$(document).ready(function(){var t=$(".owl-carousel"),e=$(".gallery-thumbnail");t.owlCarousel({items:1,dots:!1}),$(".gallery-thumbnail").click(function(){var e=$(this).data("target")-1;t.trigger("to.owl.carousel",[e,300])}),$(".owl-carousel").click(function(e){t.trigger("next.owl.carousel",[300])}),t.on("changed.owl.carousel",function(t){$(".active").removeClass("active"),e.eq(t.item.index).addClass("active")}),t.on("translated.owl.carousel",function(t){lazyinstance.update()}),t.on("dragged.owl.carousel",function(t){lazyinstance.update()})});var lazyinstance;$("document").ready(function(){$(".lazycont").attr("data-picture",""),window.picturefill(),$(".lazycont img").addClass("lazy"),lazyinstance=$(".lazy").lazy({visibleOnly:!0,chainable:!1,afterLoad:function(t){t.addClass("loaded")}});var t;$(window).bind("resize",function(e){t=setTimeout(function(){$(".lazy").each(function(){$(this).attr("src")!=$(this).attr("data-src")&&($(this).attr("src",$(this).attr("data-src")),lazyinstance.addItems($(this)),lazyinstance.loadAll())})},100)})}),$("a[href~='"+location.pathname+"']").addClass("current"),function(t){"use strict";t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),n=0,i=e.length;n<i;n++)if(null!==e[n].getAttribute("data-picture")){for(var a=e[n].getElementsByTagName("span"),o=[],r=0,s=a.length;r<s;r++){var d=a[r].getAttribute("data-media");(!d||t.matchMedia&&t.matchMedia(d).matches)&&o.push(a[r])}var l=e[n].getElementsByTagName("img")[0];if(o.length){var c=o.pop();if(l&&"NOSCRIPT"!==l.parentNode.nodeName){if(c===l.parentNode)continue}else l=t.document.createElement("img"),l.alt=e[n].getAttribute("data-alt");l.setAttribute("data-src",c.getAttribute("data-src")),c.appendChild(l),l.removeAttribute("width"),l.removeAttribute("height")}else l&&l.parentNode.removeChild(l)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this),$(document).ready(function(){$(".js-more").click(function(){$(".more-short").css("display","none"),$(".more-full").css("display","block")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWQuanMiLCJpbWFnZS1nYWxsZXJ5LmpzIiwibGF6eS5qcyIsInBhZ2UtYWN0aXZlLmpzIiwicGljdHVyZWZpbGwuanMiLCJwcm9qZWN0LW1vcmUuanMiXSwibmFtZXMiOlsibWFwIiwib25rZXlkb3duIiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwidHlwZSIsImRvY3VtZW50IiwiYm9keSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJwb3N0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJmb3JFYWNoIiwiY29udGFpbmVyIiwiaSIsIk1hc29ucnkiLCJpdGVtU2VsZWN0b3IiLCJjb2x1bW5XaWR0aCIsInBlcmNlbnRQb3NpdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsIm5hbWUiLCJvYmoiLCJydW5uaW5nIiwiZnVuYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRlc3Ryb3kiLCIkIiwicmVhZHkiLCJvd2wiLCJ0aHVtYnMiLCJvd2xDYXJvdXNlbCIsIml0ZW1zIiwiZG90cyIsImNsaWNrIiwidGFyZ2V0IiwidGhpcyIsImRhdGEiLCJ0cmlnZ2VyIiwib24iLCJldmVudCIsInJlbW92ZUNsYXNzIiwiZXEiLCJpdGVtIiwiaW5kZXgiLCJhZGRDbGFzcyIsImxhenlpbnN0YW5jZSIsInVwZGF0ZSIsImF0dHIiLCJwaWN0dXJlZmlsbCIsImxhenkiLCJ2aXNpYmxlT25seSIsImNoYWluYWJsZSIsImFmdGVyTG9hZCIsImVsZW1lbnQiLCJyZXNpemVUaW1lb3V0IiwiYmluZCIsInNldFRpbWVvdXQiLCJlYWNoIiwiYWRkSXRlbXMiLCJsb2FkQWxsIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInciLCJwcyIsImlsIiwiZ2V0QXR0cmlidXRlIiwic291cmNlcyIsIm1hdGNoZXMiLCJqIiwiamwiLCJtZWRpYSIsIm1hdGNoTWVkaWEiLCJwdXNoIiwicGljSW1nIiwibWF0Y2hlZEVsIiwicG9wIiwicGFyZW50Tm9kZSIsIm5vZGVOYW1lIiwiY3JlYXRlRWxlbWVudCIsImFsdCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJjc3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLE9BY0EsSUFiQUMsVUFBQUMsUUFBQSxTQUFBQyxHQUNBSCxJQUFBRyxFQUFBQyxTQUFBLFdBQUFELEVBQUFFLE1BR0FDLFNBQUFDLEtBQUFDLGlCQUFBLFFBQUEsU0FBQUwsR0FDQUgsSUFBQSxLQUFBQSxJQUFBLEtBQ0FNLFNBQUFHLHFCQUFBLFFBQUEsR0FBQUMsVUFBQUMsT0FBQSxhQUVBWCxTQUtBWSxPQUFBQyxXQUFBLElBQUEsQ0FFQSxHQUFBQyxPQUFBUixTQUFBUyxpQkFBQSxjQUVBRCxPQUFBRSxRQUNBRixNQUFBRyxRQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsU0FBQUYsR0FDQUcsYUFBQSxhQUNBQyxZQUFBLGNBQ0FDLGlCQUFBLEVBQ0FDLG1CQUFBLE9BTUEsWUFDQSxTQUFBbkIsRUFBQW9CLEVBQUFDLEdBQ0FBLEVBQUFBLEdBQUFkLE1BQ0EsSUFBQWUsSUFBQSxFQUNBQyxFQUFBLFdBQ0FELElBQ0FBLEdBQUEsRUFDQUUsc0JBQUEsV0FDQUgsRUFBQUksY0FBQSxHQUFBQyxhQUFBTixJQUNBRSxHQUFBLEtBR0FELEdBQUFsQixpQkFBQUgsRUFBQXVCLElBSUEsU0FBQSxzQkFJQWhCLE9BQUFKLGlCQUFBLGtCQUFBLFlBQ0FNLE9BQUFGLE9BQUFDLFdBQUEsS0FDQUQsT0FBQUUsTUFBQVIsU0FBQVMsaUJBQUEsZUFFQUQsTUFBQUUsUUFDQUYsTUFBQUcsUUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFDLFNBQUFGLEdBQ0FHLGFBQUEsYUFDQUMsWUFBQSxj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LGFBQUEsR0FDQWMsRUFBQTdELGlCQUFBLG1CQUFBLFdBQ0E2RCxFQUFBZCxjQUVBYyxFQUFBc0Isb0JBQUEsT0FBQXRCLEVBQUFkLGFBQUEsS0FDQSxHQUNBYyxFQUFBN0QsaUJBQUEsT0FBQTZELEVBQUFkLGFBQUEsSUFFQWMsRUFBQXVCLGFBQ0F2QixFQUFBdUIsWUFBQSxTQUFBdkIsRUFBQWQsY0FHQWIsTUNsRUFULEVBQUEzQixVQUFBNEIsTUFBQSxXQUNBRCxFQUFBLFlBQUFPLE1BQUEsV0FDQVAsRUFBQSxlQUFBNEQsSUFBQSxVQUFBLFFBQ0E1RCxFQUFBLGNBQUE0RCxJQUFBLFVBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7fTtcbm9ua2V5ZG93biA9IG9ua2V5dXAgPSBmdW5jdGlvbihlKXtcbiAgICBtYXBbZS5rZXlDb2RlXSA9IGUudHlwZSA9PSAna2V5ZG93bic7XG59XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uKGUpe1xuICBpZihtYXBbMTZdICYmIG1hcFs3MV0pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkhUTUxcIilbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnZ3JpZFNob3duJyk7XG4gIH1cbiAgbWFwID0ge307XG59KVxuXG4vLyBtYXNvbnJ5IGxheW91dFxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPiA1NTkpIHtcblxuICB2YXIgcG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gIGlmKHBvc3RzLmxlbmd0aCkge1xuICAgIHBvc3RzLmZvckVhY2goZnVuY3Rpb24oY29udGFpbmVyLCBpKXtcbiAgICAgIHZhciBtc25yeSA9IG5ldyBNYXNvbnJ5KCBjb250YWluZXIsIHtcbiAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICAgIGNvbHVtbldpZHRoOiAnLmdyaWQtc2l6ZXInLFxuICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMFxuICAgICAgfSk7XG4gICAgfSlcbiAgfVxufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRocm90dGxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgb2JqKSB7XG4gICAgICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gICAgICAgIHZhciBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSkpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKTtcbiAgICB9O1xuXG4gICAgLyogaW5pdCAtIHlvdSBjYW4gaW5pdCBhbnkgZXZlbnQgKi9cbiAgICB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcbn0pKCk7XG5cbi8vIGhhbmRsZSBldmVudFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcHRpbWl6ZWRSZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYoIXBvc3RzICYmIHdpbmRvdy5pbm5lcldpZHRoID4gNTU5KSB7XG4gICAgICB3aW5kb3cucG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gICAgICBpZiAocG9zdHMubGVuZ3RoKSB7XG4gICAgICAgIHBvc3RzLmZvckVhY2goZnVuY3Rpb24oY29udGFpbmVyLCBpKXtcbiAgICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZmVlZC1wb3N0JyxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmdyaWQtc2l6ZXInLFxuICAgICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwb3N0cyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IDU1OSkge1xuICAgICAgaWYocG9zdHMubGVuZ3RoKSB7XG4gICAgICAgIHBvc3RzLmZvckVhY2goZnVuY3Rpb24oY29udGFpbmVyKXtcbiAgICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZmVlZC1wb3N0JyxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmdyaWQtc2l6ZXInLFxuICAgICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbXNucnkuZGVzdHJveSgpO1xuICAgICAgICB9KVxuICAgICAgICB3aW5kb3cucG9zdHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbn0pO1xuIiwiLy8gSW1hZ2UgZ2FsbGVyeSBqc1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgdmFyIG93bCA9ICQoXCIub3dsLWNhcm91c2VsXCIpO1xuICB2YXIgdGh1bWJzID0gJChcIi5nYWxsZXJ5LXRodW1ibmFpbFwiKTtcblxuICBvd2wub3dsQ2Fyb3VzZWwoe1xuICAgIGl0ZW1zOiAxLFxuICAgIGRvdHM6IGZhbHNlXG4gIH0pO1xuXG4gICQoXCIuZ2FsbGVyeS10aHVtYm5haWxcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5kYXRhKFwidGFyZ2V0XCIpIC0gMTtcbiAgICBvd2wudHJpZ2dlcigndG8ub3dsLmNhcm91c2VsJywgW3RhcmdldCwgMzAwXSk7XG4gIH0pO1xuICAkKFwiLm93bC1jYXJvdXNlbFwiKS5jbGljayhmdW5jdGlvbihlKXtcbiAgICBvd2wudHJpZ2dlcignbmV4dC5vd2wuY2Fyb3VzZWwnLCBbMzAwXSk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZXMgYWN0aXZlIGl0ZW0gZHVyaW5nIG1vdmVtZW50XG4gIG93bC5vbignY2hhbmdlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgICQoXCIuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIHRodW1icy5lcShldmVudC5pdGVtLmluZGV4KS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgfSk7XG4gIC8vIGZvcmNlcyBsYXp5IGltYWdlcyBhZnRlciBtb3ZlbWVudFxuICBvd2wub24oJ3RyYW5zbGF0ZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsYXp5aW5zdGFuY2UudXBkYXRlKCk7XG4gIH0pO1xuICBvd2wub24oJ2RyYWdnZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsYXp5aW5zdGFuY2UudXBkYXRlKCk7XG4gIH0pO1xufSk7XG4iLCJ2YXIgbGF6eWluc3RhbmNlO1xuXG4kKCdkb2N1bWVudCcpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAvLyBzZXQgcGljdHVyZSBmaWxsc1xuICB2YXIgJGxhenljb250cyA9ICQoJy5sYXp5Y29udCcpO1xuICAkbGF6eWNvbnRzLmF0dHIoJ2RhdGEtcGljdHVyZScsICcnKTtcbiAgd2luZG93LnBpY3R1cmVmaWxsKCk7XG5cbiAgLy8gc2V0IGZpbGxlZCBpbWFnZXMgYXMgLmxhenlcbiAgdmFyICRsYXp5aW1hZ2VzID0gJCgnLmxhenljb250IGltZycpO1xuICAkbGF6eWltYWdlcy5hZGRDbGFzcyhcImxhenlcIilcblxuICAvLyBydW4gbGF6eWxvYWRcbiAgbGF6eWluc3RhbmNlID0gJChcIi5sYXp5XCIpLmxhenkoe1xuICAgIHZpc2libGVPbmx5OiB0cnVlLFxuICAgIGNoYWluYWJsZTogZmFsc2UsXG4gICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKFwibG9hZGVkXCIpXG4gICAgfVxuICB9KTtcblxuICB2YXIgcmVzaXplVGltZW91dDtcbiAgJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIixmdW5jdGlvbihldmVudCl7XG4gICAgcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJChcIi5sYXp5XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJzcmNcIikgIT0gJCh0aGlzKS5hdHRyKFwiZGF0YS1zcmNcIikpIHtcbiAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJzcmNcIiwgJCh0aGlzKS5hdHRyKFwiZGF0YS1zcmNcIikpXG4gICAgICAgICAgbGF6eWluc3RhbmNlLmFkZEl0ZW1zKCQodGhpcykpO1xuICAgICAgICAgIGxhenlpbnN0YW5jZS5sb2FkQWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG59KTsiLCIkKFwiYVtocmVmfj0nXCIgKyBsb2NhdGlvbi5wYXRobmFtZSArIFwiJ11cIikuYWRkQ2xhc3MoXCJjdXJyZW50XCIpOyIsIi8qISBQaWN0dXJlZmlsbCAtIFJlc3BvbnNpdmUgSW1hZ2VzIHRoYXQgd29yayB0b2RheS4gKGFuZCBtaW1pYyB0aGUgcHJvcG9zZWQgUGljdHVyZSBlbGVtZW50IHdpdGggc3BhbiBlbGVtZW50cykuIEF1dGhvcjogU2NvdHQgSmVobCwgRmlsYW1lbnQgR3JvdXAsIDIwMTIgfCBMaWNlbnNlOiBNSVQvR1BMdjIgKi9cblxuKGZ1bmN0aW9uKCB3ICl7XG5cbiAgLy8gRW5hYmxlIHN0cmljdCBtb2RlXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHcucGljdHVyZWZpbGwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHMgPSB3LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNwYW5cIiApO1xuXG4gICAgLy8gTG9vcCB0aGUgcGljdHVyZXNcbiAgICBmb3IoIHZhciBpID0gMCwgaWwgPSBwcy5sZW5ndGg7IGkgPCBpbDsgaSsrICl7XG4gICAgICBpZiggcHNbIGkgXS5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1waWN0dXJlXCIgKSAhPT0gbnVsbCApe1xuXG4gICAgICAgIHZhciBzb3VyY2VzID0gcHNbIGkgXS5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJzcGFuXCIgKSxcbiAgICAgICAgICBtYXRjaGVzID0gW107XG5cbiAgICAgICAgLy8gU2VlIGlmIHdoaWNoIHNvdXJjZXMgbWF0Y2hcbiAgICAgICAgZm9yKCB2YXIgaiA9IDAsIGpsID0gc291cmNlcy5sZW5ndGg7IGogPCBqbDsgaisrICl7XG4gICAgICAgICAgdmFyIG1lZGlhID0gc291cmNlc1sgaiBdLmdldEF0dHJpYnV0ZSggXCJkYXRhLW1lZGlhXCIgKTtcbiAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIG1lZGlhIHNwZWNpZmllZCwgT1Igdy5tYXRjaE1lZGlhIGlzIHN1cHBvcnRlZCBcbiAgICAgICAgICBpZiggIW1lZGlhIHx8ICggdy5tYXRjaE1lZGlhICYmIHcubWF0Y2hNZWRpYSggbWVkaWEgKS5tYXRjaGVzICkgKXtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaCggc291cmNlc1sgaiBdICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIC8vIEZpbmQgYW55IGV4aXN0aW5nIGltZyBlbGVtZW50IGluIHRoZSBwaWN0dXJlIGVsZW1lbnRcbiAgICAgIHZhciBwaWNJbWcgPSBwc1sgaSBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImltZ1wiIClbIDAgXTtcblxuICAgICAgaWYoIG1hdGNoZXMubGVuZ3RoICl7XG4gICAgICAgIHZhciBtYXRjaGVkRWwgPSBtYXRjaGVzLnBvcCgpO1xuICAgICAgICBpZiggIXBpY0ltZyB8fCBwaWNJbWcucGFyZW50Tm9kZS5ub2RlTmFtZSA9PT0gXCJOT1NDUklQVFwiICl7XG4gICAgICAgICAgcGljSW1nID0gdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImltZ1wiICk7XG4gICAgICAgICAgcGljSW1nLmFsdCA9IHBzWyBpIF0uZ2V0QXR0cmlidXRlKCBcImRhdGEtYWx0XCIgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCBtYXRjaGVkRWwgPT09IHBpY0ltZy5wYXJlbnROb2RlICl7XG4gICAgICAgICAgLy8gU2tpcCBmdXJ0aGVyIGFjdGlvbnMgaWYgdGhlIGNvcnJlY3QgaW1hZ2UgaXMgYWxyZWFkeSBpbiBwbGFjZVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcGljSW1nLnNldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIsIG1hdGNoZWRFbC5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1zcmNcIiApKTtcbiAgICAgICAgbWF0Y2hlZEVsLmFwcGVuZENoaWxkKCBwaWNJbWcgKTtcbiAgICAgICAgcGljSW1nLnJlbW92ZUF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICBwaWNJbWcucmVtb3ZlQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiggcGljSW1nICl7XG4gICAgICAgIHBpY0ltZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBwaWNJbWcgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJ1biBvbiByZXNpemUgYW5kIGRvbXJlYWR5ICh3LmxvYWQgYXMgYSBmYWxsYmFjaylcbiAgaWYoIHcuYWRkRXZlbnRMaXN0ZW5lciApe1xuICAgIHcuYWRkRXZlbnRMaXN0ZW5lciggXCJyZXNpemVcIiwgdy5waWN0dXJlZmlsbCwgZmFsc2UgKTtcbiAgICB3LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpe1xuICAgICAgdy5waWN0dXJlZmlsbCgpO1xuICAgICAgLy8gUnVuIG9uY2Ugb25seVxuICAgICAgdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgdy5waWN0dXJlZmlsbCwgZmFsc2UgKTtcbiAgICB9LCBmYWxzZSApO1xuICAgIHcuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIHcucGljdHVyZWZpbGwsIGZhbHNlICk7XG4gIH1cbiAgZWxzZSBpZiggdy5hdHRhY2hFdmVudCApe1xuICAgIHcuYXR0YWNoRXZlbnQoIFwib25sb2FkXCIsIHcucGljdHVyZWZpbGwgKTtcbiAgfVxuXG59KCB0aGlzICkpOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAkKFwiLmpzLW1vcmVcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKCcubW9yZS1zaG9ydCcpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCgnLm1vcmUtZnVsbCcpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICB9KTtcbn0pO1xuIl19
