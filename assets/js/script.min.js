var map={};if(onkeydown=onkeyup=function(t){map[t.keyCode]="keydown"==t.type},document.body.addEventListener("keyup",function(t){map[16]&&map[71]&&document.getElementsByTagName("HTML")[0].classList.toggle("gridShown"),map={}}),window.innerWidth>559){var posts=document.querySelectorAll(".feed-posts");posts.forEach(function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0})})}!function(){!function(t,e,n){n=n||window;var i=!1,a=function(){i||(i=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(e)),i=!1}))};n.addEventListener(t,a)}("resize","optimizedResize")}(),window.addEventListener("optimizedResize",function(){!posts&&window.innerWidth>559?(window.posts=document.querySelectorAll(".feed-posts"),posts.forEach(function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0})})):posts&&window.innerWidth<559&&(posts.forEach(function(t){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0}).destroy()}),window.posts=null)}),$(document).ready(function(){var t=$(".owl-carousel"),e=$(".gallery-thumbnail");t.owlCarousel({items:1,dots:!1}),$(".gallery-thumbnail").click(function(){var e=$(this).data("target")-1;t.trigger("to.owl.carousel",[e,300])}),$(".owl-carousel").click(function(e){t.trigger("next.owl.carousel",[300])}),t.on("changed.owl.carousel",function(t){$(".active").removeClass("active"),e.eq(t.item.index).addClass("active")}),t.on("translated.owl.carousel",function(t){lazyinstance.update()}),t.on("dragged.owl.carousel",function(t){lazyinstance.update()})});var lazyinstance;$("document").ready(function(){$(".lazycont").attr("data-picture",""),window.picturefill(),$(".lazycont img").addClass("lazy"),lazyinstance=$(".lazy").lazy({visibleOnly:!0,chainable:!1,afterLoad:function(t){t.addClass("loaded")}});var t;$(window).bind("resize",function(e){t=setTimeout(function(){$(".lazy").each(function(){$(this).attr("src")!=$(this).attr("data-src")&&($(this).attr("src",$(this).attr("data-src")),lazyinstance.addItems($(this)),lazyinstance.loadAll())})},100)})}),$("a[href~='"+location.pathname+"']").addClass("current"),function(t){"use strict";t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),n=0,i=e.length;n<i;n++)if(null!==e[n].getAttribute("data-picture")){for(var a=e[n].getElementsByTagName("span"),o=[],r=0,s=a.length;r<s;r++){var d=a[r].getAttribute("data-media");(!d||t.matchMedia&&t.matchMedia(d).matches)&&o.push(a[r])}var c=e[n].getElementsByTagName("img")[0];if(o.length){var l=o.pop();if(c&&"NOSCRIPT"!==c.parentNode.nodeName){if(l===c.parentNode)continue}else c=t.document.createElement("img"),c.alt=e[n].getAttribute("data-alt");c.setAttribute("data-src",l.getAttribute("data-src")),l.appendChild(c),c.removeAttribute("width"),c.removeAttribute("height")}else c&&c.parentNode.removeChild(c)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this),$(document).ready(function(){$(".js-more").click(function(){$(".more-short").css("display","none"),$(".more-full").css("display","block")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWQuanMiLCJpbWFnZS1nYWxsZXJ5LmpzIiwibGF6eS5qcyIsInBhZ2UtYWN0aXZlLmpzIiwicGljdHVyZWZpbGwuanMiLCJwcm9qZWN0LW1vcmUuanMiXSwibmFtZXMiOlsibWFwIiwib25rZXlkb3duIiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwidHlwZSIsImRvY3VtZW50IiwiYm9keSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJwb3N0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY29udGFpbmVyIiwiaSIsIk1hc29ucnkiLCJpdGVtU2VsZWN0b3IiLCJjb2x1bW5XaWR0aCIsInBlcmNlbnRQb3NpdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsIm5hbWUiLCJvYmoiLCJydW5uaW5nIiwiZnVuYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRlc3Ryb3kiLCIkIiwicmVhZHkiLCJvd2wiLCJ0aHVtYnMiLCJvd2xDYXJvdXNlbCIsIml0ZW1zIiwiZG90cyIsImNsaWNrIiwidGFyZ2V0IiwidGhpcyIsImRhdGEiLCJ0cmlnZ2VyIiwib24iLCJldmVudCIsInJlbW92ZUNsYXNzIiwiZXEiLCJpdGVtIiwiaW5kZXgiLCJhZGRDbGFzcyIsImxhenlpbnN0YW5jZSIsInVwZGF0ZSIsImF0dHIiLCJwaWN0dXJlZmlsbCIsImxhenkiLCJ2aXNpYmxlT25seSIsImNoYWluYWJsZSIsImFmdGVyTG9hZCIsImVsZW1lbnQiLCJyZXNpemVUaW1lb3V0IiwiYmluZCIsInNldFRpbWVvdXQiLCJlYWNoIiwiYWRkSXRlbXMiLCJsb2FkQWxsIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInciLCJwcyIsImlsIiwibGVuZ3RoIiwiZ2V0QXR0cmlidXRlIiwic291cmNlcyIsIm1hdGNoZXMiLCJqIiwiamwiLCJtZWRpYSIsIm1hdGNoTWVkaWEiLCJwdXNoIiwicGljSW1nIiwibWF0Y2hlZEVsIiwicG9wIiwicGFyZW50Tm9kZSIsIm5vZGVOYW1lIiwiY3JlYXRlRWxlbWVudCIsImFsdCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJjc3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLE9BY0EsSUFiQUMsVUFBQUMsUUFBQSxTQUFBQyxHQUNBSCxJQUFBRyxFQUFBQyxTQUFBLFdBQUFELEVBQUFFLE1BR0FDLFNBQUFDLEtBQUFDLGlCQUFBLFFBQUEsU0FBQUwsR0FDQUgsSUFBQSxLQUFBQSxJQUFBLEtBQ0FNLFNBQUFHLHFCQUFBLFFBQUEsR0FBQUMsVUFBQUMsT0FBQSxhQUVBWCxTQUtBWSxPQUFBQyxXQUFBLElBQUEsQ0FFQSxHQUFBQyxPQUFBUixTQUFBUyxpQkFBQSxjQUVBRCxPQUFBRSxRQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsU0FBQUYsR0FDQUcsYUFBQSxhQUNBQyxZQUFBLGNBQ0FDLGlCQUFBLEVBQ0FDLG1CQUFBLE9BS0EsWUFDQSxTQUFBbEIsRUFBQW1CLEVBQUFDLEdBQ0FBLEVBQUFBLEdBQUFiLE1BQ0EsSUFBQWMsSUFBQSxFQUNBQyxFQUFBLFdBQ0FELElBQ0FBLEdBQUEsRUFDQUUsc0JBQUEsV0FDQUgsRUFBQUksY0FBQSxHQUFBQyxhQUFBTixJQUNBRSxHQUFBLEtBR0FELEdBQUFqQixpQkFBQUgsRUFBQXNCLElBSUEsU0FBQSxzQkFJQWYsT0FBQUosaUJBQUEsa0JBQUEsWUFDQU0sT0FBQUYsT0FBQUMsV0FBQSxLQUNBRCxPQUFBRSxNQUFBUixTQUFBUyxpQkFBQSxlQUNBRCxNQUFBRSxRQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsU0FBQUYsR0FDQUcsYUFBQSxhQUNBQyxZQUFBLGNBQ0FDLGlCQUFBLEVBQ0FDLG1CQUFBLE9B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QWQsY0FFQWMsRUFBQXVCLG9CQUFBLE9BQUF2QixFQUFBZCxhQUFBLEtBQ0EsR0FDQWMsRUFBQTVELGlCQUFBLE9BQUE0RCxFQUFBZCxhQUFBLElBRUFjLEVBQUF3QixhQUNBeEIsRUFBQXdCLFlBQUEsU0FBQXhCLEVBQUFkLGNBR0FiLE1DbEVBVCxFQUFBMUIsVUFBQTJCLE1BQUEsV0FDQUQsRUFBQSxZQUFBTyxNQUFBLFdBQ0FQLEVBQUEsZUFBQTZELElBQUEsVUFBQSxRQUNBN0QsRUFBQSxjQUFBNkQsSUFBQSxVQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge307XG5vbmtleWRvd24gPSBvbmtleXVwID0gZnVuY3Rpb24oZSl7XG4gICAgbWFwW2Uua2V5Q29kZV0gPSBlLnR5cGUgPT0gJ2tleWRvd24nO1xufVxuXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbihlKXtcbiAgaWYobWFwWzE2XSAmJiBtYXBbNzFdKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIVE1MXCIpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ2dyaWRTaG93bicpO1xuICB9XG4gIG1hcCA9IHt9O1xufSlcblxuLy8gbWFzb25yeSBsYXlvdXRcblxuaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNTU5KSB7XG5cbiAgdmFyIHBvc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZlZWQtcG9zdHMnKTtcblxuICBwb3N0cy5mb3JFYWNoKGZ1bmN0aW9uKGNvbnRhaW5lciwgaSl7XG4gICAgdmFyIG1zbnJ5ID0gbmV3IE1hc29ucnkoIGNvbnRhaW5lciwge1xuICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMFxuICAgIH0pO1xuICB9KVxufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRocm90dGxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgb2JqKSB7XG4gICAgICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gICAgICAgIHZhciBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSkpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKTtcbiAgICB9O1xuXG4gICAgLyogaW5pdCAtIHlvdSBjYW4gaW5pdCBhbnkgZXZlbnQgKi9cbiAgICB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcbn0pKCk7XG5cbi8vIGhhbmRsZSBldmVudFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcHRpbWl6ZWRSZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYoIXBvc3RzICYmIHdpbmRvdy5pbm5lcldpZHRoID4gNTU5KSB7XG4gICAgICB3aW5kb3cucG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuICAgICAgcG9zdHMuZm9yRWFjaChmdW5jdGlvbihjb250YWluZXIsIGkpe1xuICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMFxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChwb3N0cyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IDU1OSkge1xuICAgICAgcG9zdHMuZm9yRWFjaChmdW5jdGlvbihjb250YWluZXIpe1xuICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMFxuICAgICAgICB9KTtcbiAgICAgICAgbXNucnkuZGVzdHJveSgpO1xuICAgICAgfSlcbiAgICAgIHdpbmRvdy5wb3N0cyA9IG51bGw7XG4gICAgfVxufSk7XG4iLCIvLyBJbWFnZSBnYWxsZXJ5IGpzXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICB2YXIgb3dsID0gJChcIi5vd2wtY2Fyb3VzZWxcIik7XG4gIHZhciB0aHVtYnMgPSAkKFwiLmdhbGxlcnktdGh1bWJuYWlsXCIpO1xuXG4gIG93bC5vd2xDYXJvdXNlbCh7XG4gICAgaXRlbXM6IDEsXG4gICAgZG90czogZmFsc2VcbiAgfSk7XG5cbiAgJChcIi5nYWxsZXJ5LXRodW1ibmFpbFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoXCJ0YXJnZXRcIikgLSAxO1xuICAgIG93bC50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbdGFyZ2V0LCAzMDBdKTtcbiAgfSk7XG4gICQoXCIub3dsLWNhcm91c2VsXCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgIG93bC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcsIFszMDBdKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlcyBhY3RpdmUgaXRlbSBkdXJpbmcgbW92ZW1lbnRcbiAgb3dsLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgJChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgdGh1bWJzLmVxKGV2ZW50Lml0ZW0uaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICB9KTtcbiAgLy8gZm9yY2VzIGxhenkgaW1hZ2VzIGFmdGVyIG1vdmVtZW50XG4gIG93bC5vbigndHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG4gIG93bC5vbignZHJhZ2dlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG59KTtcbiIsInZhciBsYXp5aW5zdGFuY2U7XG5cbiQoJ2RvY3VtZW50JykucmVhZHkoZnVuY3Rpb24oKSB7XG4gIC8vIHNldCBwaWN0dXJlIGZpbGxzXG4gIHZhciAkbGF6eWNvbnRzID0gJCgnLmxhenljb250Jyk7XG4gICRsYXp5Y29udHMuYXR0cignZGF0YS1waWN0dXJlJywgJycpO1xuICB3aW5kb3cucGljdHVyZWZpbGwoKTtcblxuICAvLyBzZXQgZmlsbGVkIGltYWdlcyBhcyAubGF6eVxuICB2YXIgJGxhenlpbWFnZXMgPSAkKCcubGF6eWNvbnQgaW1nJyk7XG4gICRsYXp5aW1hZ2VzLmFkZENsYXNzKFwibGF6eVwiKVxuXG4gIC8vIHJ1biBsYXp5bG9hZFxuICBsYXp5aW5zdGFuY2UgPSAkKFwiLmxhenlcIikubGF6eSh7XG4gICAgdmlzaWJsZU9ubHk6IHRydWUsXG4gICAgY2hhaW5hYmxlOiBmYWxzZSxcbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJsb2FkZWRcIilcbiAgICB9XG4gIH0pO1xuXG4gIHZhciByZXNpemVUaW1lb3V0O1xuICAkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICByZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLmxhenlcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcInNyY1wiKSAhPSAkKHRoaXMpLmF0dHIoXCJkYXRhLXNyY1wiKSkge1xuICAgICAgICAgICQodGhpcykuYXR0cihcInNyY1wiLCAkKHRoaXMpLmF0dHIoXCJkYXRhLXNyY1wiKSlcbiAgICAgICAgICBsYXp5aW5zdGFuY2UuYWRkSXRlbXMoJCh0aGlzKSk7XG4gICAgICAgICAgbGF6eWluc3RhbmNlLmxvYWRBbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbn0pOyIsIiQoXCJhW2hyZWZ+PSdcIiArIGxvY2F0aW9uLnBhdGhuYW1lICsgXCInXVwiKS5hZGRDbGFzcyhcImN1cnJlbnRcIik7IiwiLyohIFBpY3R1cmVmaWxsIC0gUmVzcG9uc2l2ZSBJbWFnZXMgdGhhdCB3b3JrIHRvZGF5LiAoYW5kIG1pbWljIHRoZSBwcm9wb3NlZCBQaWN0dXJlIGVsZW1lbnQgd2l0aCBzcGFuIGVsZW1lbnRzKS4gQXV0aG9yOiBTY290dCBKZWhsLCBGaWxhbWVudCBHcm91cCwgMjAxMiB8IExpY2Vuc2U6IE1JVC9HUEx2MiAqL1xuXG4oZnVuY3Rpb24oIHcgKXtcblxuICAvLyBFbmFibGUgc3RyaWN0IG1vZGVcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdy5waWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcyA9IHcuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwic3BhblwiICk7XG5cbiAgICAvLyBMb29wIHRoZSBwaWN0dXJlc1xuICAgIGZvciggdmFyIGkgPSAwLCBpbCA9IHBzLmxlbmd0aDsgaSA8IGlsOyBpKysgKXtcbiAgICAgIGlmKCBwc1sgaSBdLmdldEF0dHJpYnV0ZSggXCJkYXRhLXBpY3R1cmVcIiApICE9PSBudWxsICl7XG5cbiAgICAgICAgdmFyIHNvdXJjZXMgPSBwc1sgaSBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNwYW5cIiApLFxuICAgICAgICAgIG1hdGNoZXMgPSBbXTtcblxuICAgICAgICAvLyBTZWUgaWYgd2hpY2ggc291cmNlcyBtYXRjaFxuICAgICAgICBmb3IoIHZhciBqID0gMCwgamwgPSBzb3VyY2VzLmxlbmd0aDsgaiA8IGpsOyBqKysgKXtcbiAgICAgICAgICB2YXIgbWVkaWEgPSBzb3VyY2VzWyBqIF0uZ2V0QXR0cmlidXRlKCBcImRhdGEtbWVkaWFcIiApO1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbWVkaWEgc3BlY2lmaWVkLCBPUiB3Lm1hdGNoTWVkaWEgaXMgc3VwcG9ydGVkIFxuICAgICAgICAgIGlmKCAhbWVkaWEgfHwgKCB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXMgKSApe1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKCBzb3VyY2VzWyBqIF0gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gRmluZCBhbnkgZXhpc3RpbmcgaW1nIGVsZW1lbnQgaW4gdGhlIHBpY3R1cmUgZWxlbWVudFxuICAgICAgdmFyIHBpY0ltZyA9IHBzWyBpIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiaW1nXCIgKVsgMCBdO1xuXG4gICAgICBpZiggbWF0Y2hlcy5sZW5ndGggKXtcbiAgICAgICAgdmFyIG1hdGNoZWRFbCA9IG1hdGNoZXMucG9wKCk7XG4gICAgICAgIGlmKCAhcGljSW1nIHx8IHBpY0ltZy5wYXJlbnROb2RlLm5vZGVOYW1lID09PSBcIk5PU0NSSVBUXCIgKXtcbiAgICAgICAgICBwaWNJbWcgPSB3LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW1nXCIgKTtcbiAgICAgICAgICBwaWNJbWcuYWx0ID0gcHNbIGkgXS5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1hbHRcIiApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIG1hdGNoZWRFbCA9PT0gcGljSW1nLnBhcmVudE5vZGUgKXtcbiAgICAgICAgICAvLyBTa2lwIGZ1cnRoZXIgYWN0aW9ucyBpZiB0aGUgY29ycmVjdCBpbWFnZSBpcyBhbHJlYWR5IGluIHBsYWNlXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBwaWNJbWcuc2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIiwgbWF0Y2hlZEVsLmdldEF0dHJpYnV0ZSggXCJkYXRhLXNyY1wiICkpO1xuICAgICAgICBtYXRjaGVkRWwuYXBwZW5kQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgICBwaWNJbWcucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIHBpY0ltZy5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBwaWNJbWcgKXtcbiAgICAgICAgcGljSW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgfVxuICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUnVuIG9uIHJlc2l6ZSBhbmQgZG9tcmVhZHkgKHcubG9hZCBhcyBhIGZhbGxiYWNrKVxuICBpZiggdy5hZGRFdmVudExpc3RlbmVyICl7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcInJlc2l6ZVwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIHcuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCl7XG4gICAgICB3LnBpY3R1cmVmaWxsKCk7XG4gICAgICAvLyBSdW4gb25jZSBvbmx5XG4gICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIH0sIGZhbHNlICk7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgdy5waWN0dXJlZmlsbCwgZmFsc2UgKTtcbiAgfVxuICBlbHNlIGlmKCB3LmF0dGFjaEV2ZW50ICl7XG4gICAgdy5hdHRhY2hFdmVudCggXCJvbmxvYWRcIiwgdy5waWN0dXJlZmlsbCApO1xuICB9XG5cbn0oIHRoaXMgKSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICQoXCIuanMtbW9yZVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQoJy5tb3JlLXNob3J0JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAkKCcubW9yZS1mdWxsJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIH0pO1xufSk7XG4iXX0=
