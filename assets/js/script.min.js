var map={};if(onkeydown=onkeyup=function(t){map[t.keyCode]="keydown"==t.type},document.body.addEventListener("keyup",function(t){map[16]&&map[71]&&document.getElementsByTagName("HTML")[0].classList.toggle("gridShown"),map={}}),window.innerWidth>559){var posts=document.querySelectorAll(".feed-posts");[].forEach.call(posts,function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0})})}!function(){!function(t,e,n){n=n||window;var a=!1,i=function(){a||(a=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(e)),a=!1}))};n.addEventListener(t,i)}("resize","optimizedResize")}(),window.addEventListener("optimizedResize",function(){!posts&&window.innerWidth>559?(window.posts=document.querySelectorAll(".feed-posts"),[].forEach.call(posts,function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0})})):posts&&window.innerWidth<559&&([].forEach.call(posts,function(t,e){new Masonry(t,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0}).destroy()}),window.posts=null)}),$(document).ready(function(){var t=$(".owl-carousel"),e=$(".gallery-thumbnail");t.owlCarousel({items:1,dots:!1}),$(".gallery-thumbnail").click(function(){var e=$(this).data("target")-1;t.trigger("to.owl.carousel",[e,300])}),$(".owl-carousel").click(function(e){t.trigger("next.owl.carousel",[300])}),t.on("changed.owl.carousel",function(t){$(".active").removeClass("active"),e.eq(t.item.index).addClass("active")}),t.on("translated.owl.carousel",function(t){lazyinstance.update()}),t.on("dragged.owl.carousel",function(t){lazyinstance.update()})});var lazyinstance;$("document").ready(function(){$(".lazycont").attr("data-picture",""),window.picturefill(),$(".lazycont img").addClass("lazy"),lazyinstance=$(".lazy").lazy({visibleOnly:!0,chainable:!1,afterLoad:function(t){t.addClass("loaded")}});var t;$(window).bind("resize",function(e){t=setTimeout(function(){$(".lazy").each(function(){$(this).attr("src")!=$(this).attr("data-src")&&($(this).attr("src",$(this).attr("data-src")),lazyinstance.addItems($(this)),lazyinstance.loadAll())})},100)})}),$("a[href~='"+location.pathname+"']").addClass("current"),function(t){"use strict";t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),n=0,a=e.length;n<a;n++)if(null!==e[n].getAttribute("data-picture")){for(var i=e[n].getElementsByTagName("span"),o=[],r=0,s=i.length;r<s;r++){var l=i[r].getAttribute("data-media");(!l||t.matchMedia&&t.matchMedia(l).matches)&&o.push(i[r])}var d=e[n].getElementsByTagName("img")[0];if(o.length){var c=o.pop();if(d&&"NOSCRIPT"!==d.parentNode.nodeName){if(c===d.parentNode)continue}else d=t.document.createElement("img"),d.alt=e[n].getAttribute("data-alt");d.setAttribute("data-src",c.getAttribute("data-src")),c.appendChild(d),d.removeAttribute("width"),d.removeAttribute("height")}else d&&d.parentNode.removeChild(d)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this),$(document).ready(function(){$(".js-more").click(function(){$(".more-short").css("display","none"),$(".more-full").css("display","block")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWQuanMiLCJpbWFnZS1nYWxsZXJ5LmpzIiwibGF6eS5qcyIsInBhZ2UtYWN0aXZlLmpzIiwicGljdHVyZWZpbGwuanMiLCJwcm9qZWN0LW1vcmUuanMiXSwibmFtZXMiOlsibWFwIiwib25rZXlkb3duIiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwidHlwZSIsImRvY3VtZW50IiwiYm9keSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJwb3N0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY2FsbCIsImNvbnRhaW5lciIsImkiLCJNYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJwZXJjZW50UG9zaXRpb24iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJob3Jpem9udGFsT3JkZXIiLCJuYW1lIiwib2JqIiwicnVubmluZyIsImZ1bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXN0cm95IiwiJCIsInJlYWR5Iiwib3dsIiwidGh1bWJzIiwib3dsQ2Fyb3VzZWwiLCJpdGVtcyIsImRvdHMiLCJjbGljayIsInRhcmdldCIsInRoaXMiLCJkYXRhIiwidHJpZ2dlciIsIm9uIiwiZXZlbnQiLCJyZW1vdmVDbGFzcyIsImVxIiwiaXRlbSIsImluZGV4IiwiYWRkQ2xhc3MiLCJsYXp5aW5zdGFuY2UiLCJ1cGRhdGUiLCJhdHRyIiwicGljdHVyZWZpbGwiLCJsYXp5IiwidmlzaWJsZU9ubHkiLCJjaGFpbmFibGUiLCJhZnRlckxvYWQiLCJlbGVtZW50IiwicmVzaXplVGltZW91dCIsImJpbmQiLCJzZXRUaW1lb3V0IiwiZWFjaCIsImFkZEl0ZW1zIiwibG9hZEFsbCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJ3IiwicHMiLCJpbCIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInNvdXJjZXMiLCJtYXRjaGVzIiwiaiIsImpsIiwibWVkaWEiLCJtYXRjaE1lZGlhIiwicHVzaCIsInBpY0ltZyIsIm1hdGNoZWRFbCIsInBvcCIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiY3NzIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxPQWNBLElBYkFDLFVBQUFDLFFBQUEsU0FBQUMsR0FDQUgsSUFBQUcsRUFBQUMsU0FBQSxXQUFBRCxFQUFBRSxNQUdBQyxTQUFBQyxLQUFBQyxpQkFBQSxRQUFBLFNBQUFMLEdBQ0FILElBQUEsS0FBQUEsSUFBQSxLQUNBTSxTQUFBRyxxQkFBQSxRQUFBLEdBQUFDLFVBQUFDLE9BQUEsYUFFQVgsU0FLQVksT0FBQUMsV0FBQSxJQUFBLENBRUEsR0FBQUMsT0FBQVIsU0FBQVMsaUJBQUEsa0JBRUFDLFFBQUFDLEtBQUFILE1BQUEsU0FBQUksRUFBQUMsR0FDQSxHQUFBQyxTQUFBRixHQUNBRyxhQUFBLGFBQ0FDLFlBQUEsY0FDQUMsaUJBQUEsRUFDQUMsbUJBQUEsRUFDQUMsaUJBQUEsT0FLQSxZQUNBLFNBQUFwQixFQUFBcUIsRUFBQUMsR0FDQUEsRUFBQUEsR0FBQWYsTUFDQSxJQUFBZ0IsSUFBQSxFQUNBQyxFQUFBLFdBQ0FELElBQ0FBLEdBQUEsRUFDQUUsc0JBQUEsV0FDQUgsRUFBQUksY0FBQSxHQUFBQyxhQUFBTixJQUNBRSxHQUFBLEtBR0FELEdBQUFuQixpQkFBQUgsRUFBQXdCLElBSUEsU0FBQSxzQkFJQWpCLE9BQUFKLGlCQUFBLGtCQUFBLFlBQ0FNLE9BQUFGLE9BQUFDLFdBQUEsS0FDQUQsT0FBQUUsTUFBQVIsU0FBQVMsaUJBQUEsa0JBRUFDLFFBQUFDLEtBQUFILE1BQUEsU0FBQUksRUFBQUMsR0FDQSxHQUFBQyxT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VixLQU9BWixFQUFBOUQsa0JBQ0E4RCxFQUFBOUQsaUJBQUEsU0FBQThELEVBQUFkLGFBQUEsR0FDQWMsRUFBQTlELGlCQUFBLG1CQUFBLFdBQ0E4RCxFQUFBZCxjQUVBYyxFQUFBdUIsb0JBQUEsT0FBQXZCLEVBQUFkLGFBQUEsS0FDQSxHQUNBYyxFQUFBOUQsaUJBQUEsT0FBQThELEVBQUFkLGFBQUEsSUFFQWMsRUFBQXdCLGFBQ0F4QixFQUFBd0IsWUFBQSxTQUFBeEIsRUFBQWQsY0FHQWIsTUNsRUFULEVBQUE1QixVQUFBNkIsTUFBQSxXQUNBRCxFQUFBLFlBQUFPLE1BQUEsV0FDQVAsRUFBQSxlQUFBNkQsSUFBQSxVQUFBLFFBQ0E3RCxFQUFBLGNBQUE2RCxJQUFBLFVBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7fTtcbm9ua2V5ZG93biA9IG9ua2V5dXAgPSBmdW5jdGlvbihlKXtcbiAgICBtYXBbZS5rZXlDb2RlXSA9IGUudHlwZSA9PSAna2V5ZG93bic7XG59XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uKGUpe1xuICBpZihtYXBbMTZdICYmIG1hcFs3MV0pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkhUTUxcIilbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnZ3JpZFNob3duJyk7XG4gIH1cbiAgbWFwID0ge307XG59KVxuXG4vLyBtYXNvbnJ5IGxheW91dFxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPiA1NTkpIHtcblxuICB2YXIgcG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gIFtdLmZvckVhY2guY2FsbChwb3N0cywgZnVuY3Rpb24oY29udGFpbmVyLCBpKSB7XG4gICAgdmFyIG1zbnJ5ID0gbmV3IE1hc29ucnkoIGNvbnRhaW5lciwge1xuICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgIGhvcml6b250YWxPcmRlcjogdHJ1ZVxuICAgIH0pO1xuICB9KVxufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRocm90dGxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgb2JqKSB7XG4gICAgICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gICAgICAgIHZhciBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSkpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKTtcbiAgICB9O1xuXG4gICAgLyogaW5pdCAtIHlvdSBjYW4gaW5pdCBhbnkgZXZlbnQgKi9cbiAgICB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcbn0pKCk7XG5cbi8vIGhhbmRsZSBldmVudFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcHRpbWl6ZWRSZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYoIXBvc3RzICYmIHdpbmRvdy5pbm5lcldpZHRoID4gNTU5KSB7XG4gICAgICB3aW5kb3cucG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gICAgICBbXS5mb3JFYWNoLmNhbGwocG9zdHMsIGZ1bmN0aW9uKGNvbnRhaW5lciwgaSkge1xuICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgICAgICBob3Jpem9udGFsT3JkZXI6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAocG9zdHMgJiYgd2luZG93LmlubmVyV2lkdGggPCA1NTkpIHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChwb3N0cywgZnVuY3Rpb24oY29udGFpbmVyLCBpKSB7XG4gICAgICAgIHZhciBtc25yeSA9IG5ldyBNYXNvbnJ5KCBjb250YWluZXIsIHtcbiAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZmVlZC1wb3N0JyxcbiAgICAgICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwLFxuICAgICAgICAgIGhvcml6b250YWxPcmRlcjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgbXNucnkuZGVzdHJveSgpO1xuICAgICAgfSlcbiAgICAgIHdpbmRvdy5wb3N0cyA9IG51bGw7XG4gICAgfVxufSk7XG4iLCIvLyBJbWFnZSBnYWxsZXJ5IGpzXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICB2YXIgb3dsID0gJChcIi5vd2wtY2Fyb3VzZWxcIik7XG4gIHZhciB0aHVtYnMgPSAkKFwiLmdhbGxlcnktdGh1bWJuYWlsXCIpO1xuXG4gIG93bC5vd2xDYXJvdXNlbCh7XG4gICAgaXRlbXM6IDEsXG4gICAgZG90czogZmFsc2VcbiAgfSk7XG5cbiAgJChcIi5nYWxsZXJ5LXRodW1ibmFpbFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoXCJ0YXJnZXRcIikgLSAxO1xuICAgIG93bC50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbdGFyZ2V0LCAzMDBdKTtcbiAgfSk7XG4gICQoXCIub3dsLWNhcm91c2VsXCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgIG93bC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcsIFszMDBdKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlcyBhY3RpdmUgaXRlbSBkdXJpbmcgbW92ZW1lbnRcbiAgb3dsLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgJChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgdGh1bWJzLmVxKGV2ZW50Lml0ZW0uaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICB9KTtcbiAgLy8gZm9yY2VzIGxhenkgaW1hZ2VzIGFmdGVyIG1vdmVtZW50XG4gIG93bC5vbigndHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG4gIG93bC5vbignZHJhZ2dlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG59KTtcbiIsInZhciBsYXp5aW5zdGFuY2U7XG5cbiQoJ2RvY3VtZW50JykucmVhZHkoZnVuY3Rpb24oKSB7XG4gIC8vIHNldCBwaWN0dXJlIGZpbGxzXG4gIHZhciAkbGF6eWNvbnRzID0gJCgnLmxhenljb250Jyk7XG4gICRsYXp5Y29udHMuYXR0cignZGF0YS1waWN0dXJlJywgJycpO1xuICB3aW5kb3cucGljdHVyZWZpbGwoKTtcblxuICAvLyBzZXQgZmlsbGVkIGltYWdlcyBhcyAubGF6eVxuICB2YXIgJGxhenlpbWFnZXMgPSAkKCcubGF6eWNvbnQgaW1nJyk7XG4gICRsYXp5aW1hZ2VzLmFkZENsYXNzKFwibGF6eVwiKVxuXG4gIC8vIHJ1biBsYXp5bG9hZFxuICBsYXp5aW5zdGFuY2UgPSAkKFwiLmxhenlcIikubGF6eSh7XG4gICAgdmlzaWJsZU9ubHk6IHRydWUsXG4gICAgY2hhaW5hYmxlOiBmYWxzZSxcbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJsb2FkZWRcIilcbiAgICB9XG4gIH0pO1xuXG4gIHZhciByZXNpemVUaW1lb3V0O1xuICAkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICByZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLmxhenlcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcInNyY1wiKSAhPSAkKHRoaXMpLmF0dHIoXCJkYXRhLXNyY1wiKSkge1xuICAgICAgICAgICQodGhpcykuYXR0cihcInNyY1wiLCAkKHRoaXMpLmF0dHIoXCJkYXRhLXNyY1wiKSlcbiAgICAgICAgICBsYXp5aW5zdGFuY2UuYWRkSXRlbXMoJCh0aGlzKSk7XG4gICAgICAgICAgbGF6eWluc3RhbmNlLmxvYWRBbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbn0pOyIsIiQoXCJhW2hyZWZ+PSdcIiArIGxvY2F0aW9uLnBhdGhuYW1lICsgXCInXVwiKS5hZGRDbGFzcyhcImN1cnJlbnRcIik7IiwiLyohIFBpY3R1cmVmaWxsIC0gUmVzcG9uc2l2ZSBJbWFnZXMgdGhhdCB3b3JrIHRvZGF5LiAoYW5kIG1pbWljIHRoZSBwcm9wb3NlZCBQaWN0dXJlIGVsZW1lbnQgd2l0aCBzcGFuIGVsZW1lbnRzKS4gQXV0aG9yOiBTY290dCBKZWhsLCBGaWxhbWVudCBHcm91cCwgMjAxMiB8IExpY2Vuc2U6IE1JVC9HUEx2MiAqL1xuXG4oZnVuY3Rpb24oIHcgKXtcblxuICAvLyBFbmFibGUgc3RyaWN0IG1vZGVcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdy5waWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcyA9IHcuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwic3BhblwiICk7XG5cbiAgICAvLyBMb29wIHRoZSBwaWN0dXJlc1xuICAgIGZvciggdmFyIGkgPSAwLCBpbCA9IHBzLmxlbmd0aDsgaSA8IGlsOyBpKysgKXtcbiAgICAgIGlmKCBwc1sgaSBdLmdldEF0dHJpYnV0ZSggXCJkYXRhLXBpY3R1cmVcIiApICE9PSBudWxsICl7XG5cbiAgICAgICAgdmFyIHNvdXJjZXMgPSBwc1sgaSBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNwYW5cIiApLFxuICAgICAgICAgIG1hdGNoZXMgPSBbXTtcblxuICAgICAgICAvLyBTZWUgaWYgd2hpY2ggc291cmNlcyBtYXRjaFxuICAgICAgICBmb3IoIHZhciBqID0gMCwgamwgPSBzb3VyY2VzLmxlbmd0aDsgaiA8IGpsOyBqKysgKXtcbiAgICAgICAgICB2YXIgbWVkaWEgPSBzb3VyY2VzWyBqIF0uZ2V0QXR0cmlidXRlKCBcImRhdGEtbWVkaWFcIiApO1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbWVkaWEgc3BlY2lmaWVkLCBPUiB3Lm1hdGNoTWVkaWEgaXMgc3VwcG9ydGVkIFxuICAgICAgICAgIGlmKCAhbWVkaWEgfHwgKCB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXMgKSApe1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKCBzb3VyY2VzWyBqIF0gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gRmluZCBhbnkgZXhpc3RpbmcgaW1nIGVsZW1lbnQgaW4gdGhlIHBpY3R1cmUgZWxlbWVudFxuICAgICAgdmFyIHBpY0ltZyA9IHBzWyBpIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiaW1nXCIgKVsgMCBdO1xuXG4gICAgICBpZiggbWF0Y2hlcy5sZW5ndGggKXtcbiAgICAgICAgdmFyIG1hdGNoZWRFbCA9IG1hdGNoZXMucG9wKCk7XG4gICAgICAgIGlmKCAhcGljSW1nIHx8IHBpY0ltZy5wYXJlbnROb2RlLm5vZGVOYW1lID09PSBcIk5PU0NSSVBUXCIgKXtcbiAgICAgICAgICBwaWNJbWcgPSB3LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW1nXCIgKTtcbiAgICAgICAgICBwaWNJbWcuYWx0ID0gcHNbIGkgXS5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1hbHRcIiApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIG1hdGNoZWRFbCA9PT0gcGljSW1nLnBhcmVudE5vZGUgKXtcbiAgICAgICAgICAvLyBTa2lwIGZ1cnRoZXIgYWN0aW9ucyBpZiB0aGUgY29ycmVjdCBpbWFnZSBpcyBhbHJlYWR5IGluIHBsYWNlXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBwaWNJbWcuc2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIiwgbWF0Y2hlZEVsLmdldEF0dHJpYnV0ZSggXCJkYXRhLXNyY1wiICkpO1xuICAgICAgICBtYXRjaGVkRWwuYXBwZW5kQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgICBwaWNJbWcucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIHBpY0ltZy5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBwaWNJbWcgKXtcbiAgICAgICAgcGljSW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgfVxuICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUnVuIG9uIHJlc2l6ZSBhbmQgZG9tcmVhZHkgKHcubG9hZCBhcyBhIGZhbGxiYWNrKVxuICBpZiggdy5hZGRFdmVudExpc3RlbmVyICl7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcInJlc2l6ZVwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIHcuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCl7XG4gICAgICB3LnBpY3R1cmVmaWxsKCk7XG4gICAgICAvLyBSdW4gb25jZSBvbmx5XG4gICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIH0sIGZhbHNlICk7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgdy5waWN0dXJlZmlsbCwgZmFsc2UgKTtcbiAgfVxuICBlbHNlIGlmKCB3LmF0dGFjaEV2ZW50ICl7XG4gICAgdy5hdHRhY2hFdmVudCggXCJvbmxvYWRcIiwgdy5waWN0dXJlZmlsbCApO1xuICB9XG5cbn0oIHRoaXMgKSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICQoXCIuanMtbW9yZVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQoJy5tb3JlLXNob3J0JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAkKCcubW9yZS1mdWxsJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIH0pO1xufSk7XG4iXX0=
