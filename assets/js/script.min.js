var map={};if(onkeydown=onkeyup=function(e){map[e.keyCode]="keydown"==e.type},document.body.addEventListener("keyup",function(e){map[16]&&map[71]&&document.getElementsByTagName("HTML")[0].classList.toggle("gridShown"),map={}}),window.innerWidth>559){var posts=document.querySelectorAll(".feed-posts");[].forEach.call(posts,function(e,t){new Masonry(e,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0})})}!function(){!function(e,t,n){n=n||window;var o=!1,i=function(){o||(o=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(t)),o=!1}))};n.addEventListener(e,i)}("resize","optimizedResize")}(),window.addEventListener("optimizedResize",function(){!posts&&window.innerWidth>559?(window.posts=document.querySelectorAll(".feed-posts"),[].forEach.call(posts,function(e,t){new Masonry(e,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0})})):posts&&window.innerWidth<559&&([].forEach.call(posts,function(e,t){new Masonry(e,{itemSelector:".feed-post",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:0,horizontalOrder:!0}).destroy()}),window.posts=null)}),$(document).ready(function(){var e=$(".owl-carousel"),t=$(".gallery-thumbnail");e.owlCarousel({items:1,dots:!1}),$(".gallery-thumbnail").click(function(){var t=$(this).data("target")-1;e.trigger("to.owl.carousel",[t,300])}),$(".owl-carousel").click(function(t){e.trigger("next.owl.carousel",[300])}),e.on("changed.owl.carousel",function(e){$(".active").removeClass("active"),t.eq(e.item.index).addClass("active")}),e.on("translated.owl.carousel",function(e){lazyinstance.update()}),e.on("dragged.owl.carousel",function(e){lazyinstance.update()})}),$("a[href~='"+location.pathname+"']").addClass("current"),function(e){"use strict";e.picturefill=function(){for(var t=e.document.getElementsByTagName("span"),n=0,o=t.length;n<o;n++)if(null!==t[n].getAttribute("data-picture")){for(var i=t[n].getElementsByTagName("span"),a=[],r=0,s=i.length;r<s;r++){var d=i[r].getAttribute("data-media");(!d||e.matchMedia&&e.matchMedia(d).matches)&&a.push(i[r])}var l=t[n].getElementsByTagName("img")[0];if(a.length){var c=a.pop();if(l&&"NOSCRIPT"!==l.parentNode.nodeName){if(c===l.parentNode)continue}else l=e.document.createElement("img"),l.alt=t[n].getAttribute("data-alt");l.setAttribute("data-src",c.getAttribute("data-src")),c.appendChild(l),l.removeAttribute("width"),l.removeAttribute("height")}else l&&l.parentNode.removeChild(l)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)}(this),$(document).ready(function(){$(".js-more").click(function(){$(".more-short").css("display","none"),$(".more-full").css("display","block")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWQuanMiLCJpbWFnZS1nYWxsZXJ5LmpzIiwicGFnZS1hY3RpdmUuanMiLCJwaWN0dXJlZmlsbC5qcyIsInByb2plY3QtbW9yZS5qcyJdLCJuYW1lcyI6WyJtYXAiLCJvbmtleWRvd24iLCJvbmtleXVwIiwiZSIsImtleUNvZGUiLCJ0eXBlIiwiZG9jdW1lbnQiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInBvc3RzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjYWxsIiwiY29udGFpbmVyIiwiaSIsIk1hc29ucnkiLCJpdGVtU2VsZWN0b3IiLCJjb2x1bW5XaWR0aCIsInBlcmNlbnRQb3NpdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsImhvcml6b250YWxPcmRlciIsIm5hbWUiLCJvYmoiLCJydW5uaW5nIiwiZnVuYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRlc3Ryb3kiLCIkIiwicmVhZHkiLCJvd2wiLCJ0aHVtYnMiLCJvd2xDYXJvdXNlbCIsIml0ZW1zIiwiZG90cyIsImNsaWNrIiwidGFyZ2V0IiwidGhpcyIsImRhdGEiLCJ0cmlnZ2VyIiwib24iLCJldmVudCIsInJlbW92ZUNsYXNzIiwiZXEiLCJpdGVtIiwiaW5kZXgiLCJhZGRDbGFzcyIsImxhenlpbnN0YW5jZSIsInVwZGF0ZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJ3IiwicGljdHVyZWZpbGwiLCJwcyIsImlsIiwibGVuZ3RoIiwiZ2V0QXR0cmlidXRlIiwic291cmNlcyIsIm1hdGNoZXMiLCJqIiwiamwiLCJtZWRpYSIsIm1hdGNoTWVkaWEiLCJwdXNoIiwicGljSW1nIiwibWF0Y2hlZEVsIiwicG9wIiwicGFyZW50Tm9kZSIsIm5vZGVOYW1lIiwiY3JlYXRlRWxlbWVudCIsImFsdCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJjc3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLE9BY0EsSUFiQUMsVUFBQUMsUUFBQSxTQUFBQyxHQUNBSCxJQUFBRyxFQUFBQyxTQUFBLFdBQUFELEVBQUFFLE1BR0FDLFNBQUFDLEtBQUFDLGlCQUFBLFFBQUEsU0FBQUwsR0FDQUgsSUFBQSxLQUFBQSxJQUFBLEtBQ0FNLFNBQUFHLHFCQUFBLFFBQUEsR0FBQUMsVUFBQUMsT0FBQSxhQUVBWCxTQUtBWSxPQUFBQyxXQUFBLElBQUEsQ0FFQSxHQUFBQyxPQUFBUixTQUFBUyxpQkFBQSxrQkFFQUMsUUFBQUMsS0FBQUgsTUFBQSxTQUFBSSxFQUFBQyxHQUNBLEdBQUFDLFNBQUFGLEdBQ0FHLGFBQUEsYUFDQUMsWUFBQSxjQUNBQyxpQkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxpQkFBQSxPQUtBLFlBQ0EsU0FBQXBCLEVBQUFxQixFQUFBQyxHQUNBQSxFQUFBQSxHQUFBZixNQUNBLElBQUFnQixJQUFBLEVBQ0FDLEVBQUEsV0FDQUQsSUFDQUEsR0FBQSxFQUNBRSxzQkFBQSxXQUNBSCxFQUFBSSxjQUFBLEdBQUFDLGFBQUFOLElBQ0FFLEdBQUEsS0FHQUQsR0FBQW5CLGlCQUFBSCxFQUFBd0IsSUFJQSxTQUFBLHNCQUlBakIsT0FBQUosaUJBQUEsa0JBQUEsWUFDQU0sT0FBQUYsT0FBQUMsV0FBQSxLQUNBRCxPQUFBRSxNQUFBUixTQUFBUyxpQkFBQSxrQkFFQUMsUUFBQUMsS0FBQUgsTUFBQSxTQUFBSSxFQUFBQyxHQUNBLEdBQUFDLFNBQUFGLEdBQ0FHLGFBQUEsYUFDQUMsWUFBQSxjQUNBQyxpQkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxpQkFBQSxPQUdBWCxPQUFBRixPQUFBQyxXQUFBLFNBQ0FHLFFBQUFDLEtBQUFILE1BQUEsU0FBQUksRUFBQUMsR0FDQSxHQUFBQyxTQUFBRixHQUNBRyxhQUFBLGFBQ0FDLFlBQUEsY0FDQUMsaUJBQUEsRUFDQUMsbUJBQUEsRUFDQUMsaUJBQUEsSUFFQVEsWUFFQXJCLE9BQUFFLE1BQUEsUUN2RUFvQixFQUFBNUIsVUFBQTZCLE1BQUEsV0FDQSxHQUFBQyxHQUFBRixFQUFBLGlCQUNBRyxFQUFBSCxFQUFBLHFCQUVBRSxHQUFBRSxhQUNBQyxNQUFBLEVBQ0FDLE1BQUEsSUFHQU4sRUFBQSxzQkFBQU8sTUFBQSxXQUNBLEdBQUFDLEdBQUFSLEVBQUFTLE1BQUFDLEtBQUEsVUFBQSxDQUNBUixHQUFBUyxRQUFBLG1CQUFBSCxFQUFBLFFBRUFSLEVBQUEsaUJBQUFPLE1BQUEsU0FBQXRDLEdBQ0FpQyxFQUFBUyxRQUFBLHFCQUFBLFFBSUFULEVBQUFVLEdBQUEsdUJBQUEsU0FBQUMsR0FDQWIsRUFBQSxXQUFBYyxZQUFBLFVBQ0FYLEVBQUFZLEdBQUFGLEVBQUFHLEtBQUFDLE9BQUFDLFNBQUEsWUFHQWhCLEVBQUFVLEdBQUEsMEJBQUEsU0FBQUMsR0FDQU0sYUFBQUMsV0FFQWxCLEVBQUFVLEdBQUEsdUJBQUEsU0FBQUMsR0FDQU0sYUFBQUMsYUM3QkFwQixFQUFBLFlBQUFxQixTQUFBQyxTQUFBLE1BQUFKLFNBQUEsV0NFQSxTQUFBSyxHQUdBLFlBRUFBLEdBQUFDLFlBQUEsV0FJQSxJQUFBLEdBSEFDLEdBQUFGLEVBQUFuRCxTQUFBRyxxQkFBQSxRQUdBVSxFQUFBLEVBQUF5QyxFQUFBRCxFQUFBRSxPQUFBMUMsRUFBQXlDLEVBQUF6QyxJQUNBLEdBQUEsT0FBQXdDLEVBQUF4QyxHQUFBMkMsYUFBQSxnQkFBQSxDQU1BLElBQUEsR0FKQUMsR0FBQUosRUFBQXhDLEdBQUFWLHFCQUFBLFFBQ0F1RCxLQUdBQyxFQUFBLEVBQUFDLEVBQUFILEVBQUFGLE9BQUFJLEVBQUFDLEVBQUFELElBQUEsQ0FDQSxHQUFBRSxHQUFBSixFQUFBRSxHQUFBSCxhQUFBLGdCQUVBSyxHQUFBVixFQUFBVyxZQUFBWCxFQUFBVyxXQUFBRCxHQUFBSCxVQUNBQSxFQUFBSyxLQUFBTixFQUFBRSxJQUtBLEdBQUFLLEdBQUFYLEVBQUF4QyxHQUFBVixxQkFBQSxPQUFBLEVBRUEsSUFBQXVELEVBQUFILE9BQUEsQ0FDQSxHQUFBVSxHQUFBUCxFQUFBUSxLQUNBLElBQUFGLEdBQUEsYUFBQUEsRUFBQUcsV0FBQUMsVUFJQSxHQUFBSCxJQUFBRCxFQUFBRyxXQUVBLGFBTEFILEdBQUFiLEVBQUFuRCxTQUFBcUUsY0FBQSxPQUNBTCxFQUFBTSxJQUFBakIsRUFBQXhDLEdBQUEyQyxhQUFBLFdBT0FRLEdBQUFPLGFBQUEsV0FBQU4sRUFBQVQsYUFBQSxhQUNBUyxFQUFBTyxZQUFBUixHQUNBQSxFQUFBUyxnQkFBQSxTQUNBVCxFQUFBUyxnQkFBQSxjQUVBVCxJQUNBQSxFQUFBRyxXQUFBTyxZQUFBVixLQU9BYixFQUFBakQsa0JBQ0FpRCxFQUFBakQsaUJBQUEsU0FBQWlELEVBQUFDLGFBQUEsR0FDQUQsRUFBQWpELGlCQUFBLG1CQUFBLFdBQ0FpRCxFQUFBQyxjQUVBRCxFQUFBd0Isb0JBQUEsT0FBQXhCLEVBQUFDLGFBQUEsS0FDQSxHQUNBRCxFQUFBakQsaUJBQUEsT0FBQWlELEVBQUFDLGFBQUEsSUFFQUQsRUFBQXlCLGFBQ0F6QixFQUFBeUIsWUFBQSxTQUFBekIsRUFBQUMsY0FHQWYsTUNsRUFULEVBQUE1QixVQUFBNkIsTUFBQSxXQUNBRCxFQUFBLFlBQUFPLE1BQUEsV0FDQVAsRUFBQSxlQUFBaUQsSUFBQSxVQUFBLFFBQ0FqRCxFQUFBLGNBQUFpRCxJQUFBLFVBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7fTtcbm9ua2V5ZG93biA9IG9ua2V5dXAgPSBmdW5jdGlvbihlKXtcbiAgICBtYXBbZS5rZXlDb2RlXSA9IGUudHlwZSA9PSAna2V5ZG93bic7XG59XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uKGUpe1xuICBpZihtYXBbMTZdICYmIG1hcFs3MV0pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkhUTUxcIilbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnZ3JpZFNob3duJyk7XG4gIH1cbiAgbWFwID0ge307XG59KVxuXG4vLyBtYXNvbnJ5IGxheW91dFxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPiA1NTkpIHtcblxuICB2YXIgcG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gIFtdLmZvckVhY2guY2FsbChwb3N0cywgZnVuY3Rpb24oY29udGFpbmVyLCBpKSB7XG4gICAgdmFyIG1zbnJ5ID0gbmV3IE1hc29ucnkoIGNvbnRhaW5lciwge1xuICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgIGhvcml6b250YWxPcmRlcjogdHJ1ZVxuICAgIH0pO1xuICB9KVxufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRocm90dGxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgb2JqKSB7XG4gICAgICAgIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gICAgICAgIHZhciBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmFtZSkpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKTtcbiAgICB9O1xuXG4gICAgLyogaW5pdCAtIHlvdSBjYW4gaW5pdCBhbnkgZXZlbnQgKi9cbiAgICB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcbn0pKCk7XG5cbi8vIGhhbmRsZSBldmVudFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcHRpbWl6ZWRSZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYoIXBvc3RzICYmIHdpbmRvdy5pbm5lcldpZHRoID4gNTU5KSB7XG4gICAgICB3aW5kb3cucG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZC1wb3N0cycpO1xuXG4gICAgICBbXS5mb3JFYWNoLmNhbGwocG9zdHMsIGZ1bmN0aW9uKGNvbnRhaW5lciwgaSkge1xuICAgICAgICB2YXIgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmZlZWQtcG9zdCcsXG4gICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgICAgICBob3Jpem9udGFsT3JkZXI6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAocG9zdHMgJiYgd2luZG93LmlubmVyV2lkdGggPCA1NTkpIHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChwb3N0cywgZnVuY3Rpb24oY29udGFpbmVyLCBpKSB7XG4gICAgICAgIHZhciBtc25yeSA9IG5ldyBNYXNvbnJ5KCBjb250YWluZXIsIHtcbiAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZmVlZC1wb3N0JyxcbiAgICAgICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwLFxuICAgICAgICAgIGhvcml6b250YWxPcmRlcjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgbXNucnkuZGVzdHJveSgpO1xuICAgICAgfSlcbiAgICAgIHdpbmRvdy5wb3N0cyA9IG51bGw7XG4gICAgfVxufSk7XG4iLCIvLyBJbWFnZSBnYWxsZXJ5IGpzXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICB2YXIgb3dsID0gJChcIi5vd2wtY2Fyb3VzZWxcIik7XG4gIHZhciB0aHVtYnMgPSAkKFwiLmdhbGxlcnktdGh1bWJuYWlsXCIpO1xuXG4gIG93bC5vd2xDYXJvdXNlbCh7XG4gICAgaXRlbXM6IDEsXG4gICAgZG90czogZmFsc2VcbiAgfSk7XG5cbiAgJChcIi5nYWxsZXJ5LXRodW1ibmFpbFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoXCJ0YXJnZXRcIikgLSAxO1xuICAgIG93bC50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbdGFyZ2V0LCAzMDBdKTtcbiAgfSk7XG4gICQoXCIub3dsLWNhcm91c2VsXCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgIG93bC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcsIFszMDBdKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlcyBhY3RpdmUgaXRlbSBkdXJpbmcgbW92ZW1lbnRcbiAgb3dsLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgJChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgdGh1bWJzLmVxKGV2ZW50Lml0ZW0uaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICB9KTtcbiAgLy8gZm9yY2VzIGxhenkgaW1hZ2VzIGFmdGVyIG1vdmVtZW50XG4gIG93bC5vbigndHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG4gIG93bC5vbignZHJhZ2dlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxhenlpbnN0YW5jZS51cGRhdGUoKTtcbiAgfSk7XG59KTtcbiIsIiQoXCJhW2hyZWZ+PSdcIiArIGxvY2F0aW9uLnBhdGhuYW1lICsgXCInXVwiKS5hZGRDbGFzcyhcImN1cnJlbnRcIik7IiwiLyohIFBpY3R1cmVmaWxsIC0gUmVzcG9uc2l2ZSBJbWFnZXMgdGhhdCB3b3JrIHRvZGF5LiAoYW5kIG1pbWljIHRoZSBwcm9wb3NlZCBQaWN0dXJlIGVsZW1lbnQgd2l0aCBzcGFuIGVsZW1lbnRzKS4gQXV0aG9yOiBTY290dCBKZWhsLCBGaWxhbWVudCBHcm91cCwgMjAxMiB8IExpY2Vuc2U6IE1JVC9HUEx2MiAqL1xuXG4oZnVuY3Rpb24oIHcgKXtcblxuICAvLyBFbmFibGUgc3RyaWN0IG1vZGVcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdy5waWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcyA9IHcuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwic3BhblwiICk7XG5cbiAgICAvLyBMb29wIHRoZSBwaWN0dXJlc1xuICAgIGZvciggdmFyIGkgPSAwLCBpbCA9IHBzLmxlbmd0aDsgaSA8IGlsOyBpKysgKXtcbiAgICAgIGlmKCBwc1sgaSBdLmdldEF0dHJpYnV0ZSggXCJkYXRhLXBpY3R1cmVcIiApICE9PSBudWxsICl7XG5cbiAgICAgICAgdmFyIHNvdXJjZXMgPSBwc1sgaSBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNwYW5cIiApLFxuICAgICAgICAgIG1hdGNoZXMgPSBbXTtcblxuICAgICAgICAvLyBTZWUgaWYgd2hpY2ggc291cmNlcyBtYXRjaFxuICAgICAgICBmb3IoIHZhciBqID0gMCwgamwgPSBzb3VyY2VzLmxlbmd0aDsgaiA8IGpsOyBqKysgKXtcbiAgICAgICAgICB2YXIgbWVkaWEgPSBzb3VyY2VzWyBqIF0uZ2V0QXR0cmlidXRlKCBcImRhdGEtbWVkaWFcIiApO1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbWVkaWEgc3BlY2lmaWVkLCBPUiB3Lm1hdGNoTWVkaWEgaXMgc3VwcG9ydGVkIFxuICAgICAgICAgIGlmKCAhbWVkaWEgfHwgKCB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXMgKSApe1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKCBzb3VyY2VzWyBqIF0gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gRmluZCBhbnkgZXhpc3RpbmcgaW1nIGVsZW1lbnQgaW4gdGhlIHBpY3R1cmUgZWxlbWVudFxuICAgICAgdmFyIHBpY0ltZyA9IHBzWyBpIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiaW1nXCIgKVsgMCBdO1xuXG4gICAgICBpZiggbWF0Y2hlcy5sZW5ndGggKXtcbiAgICAgICAgdmFyIG1hdGNoZWRFbCA9IG1hdGNoZXMucG9wKCk7XG4gICAgICAgIGlmKCAhcGljSW1nIHx8IHBpY0ltZy5wYXJlbnROb2RlLm5vZGVOYW1lID09PSBcIk5PU0NSSVBUXCIgKXtcbiAgICAgICAgICBwaWNJbWcgPSB3LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW1nXCIgKTtcbiAgICAgICAgICBwaWNJbWcuYWx0ID0gcHNbIGkgXS5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1hbHRcIiApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIG1hdGNoZWRFbCA9PT0gcGljSW1nLnBhcmVudE5vZGUgKXtcbiAgICAgICAgICAvLyBTa2lwIGZ1cnRoZXIgYWN0aW9ucyBpZiB0aGUgY29ycmVjdCBpbWFnZSBpcyBhbHJlYWR5IGluIHBsYWNlXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBwaWNJbWcuc2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIiwgbWF0Y2hlZEVsLmdldEF0dHJpYnV0ZSggXCJkYXRhLXNyY1wiICkpO1xuICAgICAgICBtYXRjaGVkRWwuYXBwZW5kQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgICBwaWNJbWcucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIHBpY0ltZy5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBwaWNJbWcgKXtcbiAgICAgICAgcGljSW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHBpY0ltZyApO1xuICAgICAgfVxuICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUnVuIG9uIHJlc2l6ZSBhbmQgZG9tcmVhZHkgKHcubG9hZCBhcyBhIGZhbGxiYWNrKVxuICBpZiggdy5hZGRFdmVudExpc3RlbmVyICl7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcInJlc2l6ZVwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIHcuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCl7XG4gICAgICB3LnBpY3R1cmVmaWxsKCk7XG4gICAgICAvLyBSdW4gb25jZSBvbmx5XG4gICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCB3LnBpY3R1cmVmaWxsLCBmYWxzZSApO1xuICAgIH0sIGZhbHNlICk7XG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgdy5waWN0dXJlZmlsbCwgZmFsc2UgKTtcbiAgfVxuICBlbHNlIGlmKCB3LmF0dGFjaEV2ZW50ICl7XG4gICAgdy5hdHRhY2hFdmVudCggXCJvbmxvYWRcIiwgdy5waWN0dXJlZmlsbCApO1xuICB9XG5cbn0oIHRoaXMgKSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICQoXCIuanMtbW9yZVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQoJy5tb3JlLXNob3J0JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAkKCcubW9yZS1mdWxsJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIH0pO1xufSk7XG4iXX0=
